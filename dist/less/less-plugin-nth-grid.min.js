/*!
 * nth-grid v0.0.0
 * https://github.com/jhildenbiddle/nth-grid
 * (c) 2015-2021 John Hildenbiddle
 * MIT license
 */
!function(){"use strict";var n,r={reNotLength:/[^\w%.-]/,reNumber:/^[-+]?[0-9]*\.?[0-9]+/,reUnit:/[a-z|%]+$/,rounding:5};function t(n,t){if(r.reNotLength.test(n))return!1;var o=n.toString().match(r.reNumber)||!1;return o.length?1*Number(o):t||!1}function o(n,t){if(r.reNotLength.test(n))return!1;var o=n.toString().match(r.reUnit)||!1;return o.length?o.toString():t||!1}function i(n,r){for(var i="",e=[],a=0;a<n.length;a++){var l=t(n[a]),u=o(n[a]);if(0!==l&&u.length){if(i.length&&u!==i)return console.log("NTH-GRID: Incompatible unitMath() arguments: ".concat(n)),0;i=u}e.push(l)}r=r.trim().replace(/[^+\-*/().\d\s]/g,"");var c,_=e.length?(c=e.join(r),new Function("return "+c)()).toString().concat(i):0;return 0===Number(_)?0:_}function e(n,r,t){var o,e,a=0;if(r>1)if(n.calc){var l=[],u=0,c=0,_=[];for(o=0;o<r-1;o++)e=t?n.columns_normalized[t[o]-1]:n.columns_normalized[o],0!==n.gap_h&&(u+=1),Number(e)?c+=Number(e):_.push(e);c>0&&(1===c?l.push(n.grid_col_width):l.push("(("+n.grid_col_width+") * "+c+")")),_.length>0&&l.push(_.join(" + ")),u>0&&(1===u?l.push(n.gap_h):l.push("("+n.gap_h+" * "+u+")")),a=l.join(" + ")}else{var g;for(o=0;o<r-1;o++){if(e=t?n.columns_normalized[t[o]-1]:n.columns_normalized[o],Number(e))g=i([n.grid_col_width,e]," * "),a=i([a,g,n.gap_h]," + ");else g=i([e,n.gap_h]," + "),a=i([a,g]," + ")}}return a}function a(n,r){if(!t(n[0])&&!o(n[0]))return!1;r||(r=o(n[0]));for(var i=0;i<n.length;i++){var e=t(n[i]),a=0!==e&&o(n[i]);if(!1===e&&!1===a)return!1;if(0!==e&&a!==r)return!1}return!0}function l(n,r){if(r=r||{},!(this instanceof l))return new l(n,r);var t,u={columns:[1],gap:0,margin:0,direction:"ltr",flex:!0,flex_legacy:!0,float:!1,float_legacy:!1,debug:!1,debug_background_color:"#000",debug_text_color:"#ccc",overlay:!1,overlay_column_color:"#7c48c3",overlay_margin_color:"#dabfff",overlay_text_color:"#fff",rem_base:16,remove_warnings:!0,warnings:!0},c={width:"100%",order:!1,auto_width:null,calc:null,columns_ratio:[],columns_unit:[],grid_col_ratio:0,grid_col_width:0,grid_width:null,gap_h:0,columns_normalized:[],margin_h:0,order_offsets:[],total_columns:0,total_ratio_columns:0,total_unit_columns:0};for(var _ in r)_ in u&&(u[_]=r[_]);for(var g in c)g in n||(n[g]=c[g]);for(var d in u)d in n||(n[d]=u[d]);for(n.columns=n.columns instanceof Array?n.columns:[n.columns],n.order=n.order instanceof Array?n.order:!1!==n.order?[n.order]:n.order,n.gap_h=n.gap instanceof Array?n.gap[1]||n.gap[0]:n.gap,n.gap_v=n.gap instanceof Array?n.gap[0]:n.gap,n.margin_h=n.margin instanceof Array?n.margin[1]||n.margin[0]:n.margin,n.margin_v=n.margin instanceof Array?n.margin[0]:n.margin,n.dir_left="rtl"===n.direction?"right":"left",n.dir_right="rtl"===n.direction?"left":"right",t=0;t<n.columns.length;t++){var h=n.columns[t];Number(h)?n.columns_ratio.push(Number(h)):n.columns_unit.push(h)}n.total_ratio_columns=1===n.columns_ratio.length?n.columns_ratio[0]:n.columns_ratio.length,n.total_unit_columns=n.columns_unit.length,n.total_columns=n.total_ratio_columns+n.total_unit_columns;var s=i([n.gap_h,n.total_columns-1]," * "),m=i([n.margin_h,2]," * ");if(1===n.columns_ratio.length)n.grid_col_ratio=n.columns_ratio[0];else for(n.grid_col_ratio=0,t=0;t<n.columns_ratio.length;t++)n.grid_col_ratio+=n.columns_ratio[t];var f=a([].concat(n.width).concat(n.columns_unit).concat(n.gap).concat(n.margin)),w=0===n.columns_ratio.length&&a([].concat(n.columns_unit).concat(n.gap).concat(n.margin)),p=a([].concat(n.columns_unit).concat(n.gap).concat(n.margin),"%");if(n.calc=!(f||w||p),0===n.columns_ratio.length)if(n.calc){var v=a(n.columns_unit)?i(n.columns_unit," + "):n.columns_unit.join(" + ");0!==n.gap_h&&0!==n.margin_h&&a([s,m])?n.auto_width=v+" + "+i([s,m]," + "):0!==n.gap_h&&a([v,s])?n.auto_width=i([v,s]," + ")+" + "+(0!==n.margin_h?m:""):0!==n.margin_h&&a([v,m])?n.auto_width=i([v,m]," + ")+" + "+(0!==n.gap_h?s:""):(n.auto_width=v,0!==n.gap_h&&(n.auto_width+=" + "+s),0!==n.margin_h&&(n.auto_width+=" + "+m))}else n.auto_width=i(n.columns_unit," + "),n.auto_width=i([n.auto_width,s,m]," + ");if(n.calc?1===n.columns_unit.length?n.grid_width="99.99% - "+n.columns_unit[0]:n.columns_unit.length>1?a(n.columns_unit)?n.grid_width="99.99% - "+i(n.columns_unit," + "):n.grid_width="99.99% - ("+n.columns_unit.join(" + ")+")":n.grid_width="99.99%":f&&"%"!==o(n.width)?(n.grid_width=n.width,n.columns_unit.length&&(n.grid_width=i([n.grid_width,i(n.columns_unit," + ")]," - "))):p?(n.grid_width="100%",n.columns_unit.length&&(n.grid_width=i([n.grid_width,i(n.columns_unit," + ")]," - "))):n.grid_width="100%",n.total_ratio_columns>0&&(n.calc?(0!==n.gap_h&&0!==n.margin_h&&a([n.gap_h,n.margin_h])?n.grid_col_width=n.grid_width+" - "+i([s,m]," + "):0!==n.gap_h&&a([n.grid_width,s])?(n.grid_col_width=i([n.grid_width,s]," - "),0!==m&&(n.grid_col_width+=" - "+m)):0!==n.margin_h&&a([n.grid_width,m])?(n.grid_col_width=i([n.grid_width,m]," - "),0!==s&&(n.grid_col_width+=" - "+s)):(s=0!==n.gap_h?" - "+s:"",m=0!==n.margin_h?" - "+m:"",n.grid_col_width=n.grid_width+s+m),n.grid_col_width="("+n.grid_col_width+") / "+n.grid_col_ratio):(n.grid_col_width=i([n.grid_width,s,m]," - "),n.grid_col_width=i([n.grid_col_width,n.grid_col_ratio]," / "))),n.order&&n.order.length<=n.total_columns){
// Ex: nth-grid(6) /* columns_normalized: 1 1 1 1 1 1 */
if(1===n.columns_ratio.length)for(t=0;t<n.columns.length;t++){var y=n.columns[t],b=Number(y)||!1;if(b)for(var N=0;N<b;N++)n.columns_normalized.push(1);else n.columns_normalized.push(y)}else n.columns_normalized=n.columns;for(t=0;t<n.order.length;t++){var x=0,z=e(n,n.order[t]),A=e(n,t+1,n.order);A!==z&&(x=n.calc?0===A?"0px - ("+z+")":0===z?A:"("+A+") - ("+z+")":i([A,z]," - ")),n.order_offsets.push(x)}}return n}function u(n){return"Keyword"===n.type?n.value:"Dimension"===n.type?0===n.value?n.value:n.value.toString().concat(n.unit):"Expression"!==n.type?(console.log("Unknown type: ".concat(n.type," Returning value: ").concat(n.value)),console.log(JSON.stringify(n)),n):void c(n)}function c(n){if("Expression"===n.type){for(var r=[],t=0;t<n.value.length;t++)r.push(u(n.value[t]));return r}return[u(n)]}function _(n){if("boolean"==typeof n)return new tree.Keyword(n.toString());if(n instanceof Array){for(var r=[],i=0;i<n.length;i++)r.push(_(n[i]));return new tree.Expression(r)}if("number"==typeof n)return new tree.Dimension(n);if(null!==n){var e=t(n),a=o(n);return!1!==e&&!1!==a?new tree.Dimension(e,a):!1!==e?new tree.Dimension(e):new tree.Anonymous(n)}return new tree.Anonymous(n)}var g={"nth-log":function(n){return console.log("Nth-Grid: ".concat(n.value)),!1},"nth-warn":function(n){return console.warn("Nth-Grid: ".concat(n.value)),!1},"nth-grid":function(r,t,o,i,e){return n=new l(n={columns:c(r),gap:c(t),margin:c(o),width:u(i),order:"Expression"===e.type&&c(e)}),new tree.Keyword("true")},"nth-get":function(r){var t=r.value;if(t in n)return _(n[t]);console.log("NTH-GRID: ".concat(t," is not a valid key."))}};functions.addMultiple(g)}();
//# sourceMappingURL=less-plugin-nth-grid.min.js.map
