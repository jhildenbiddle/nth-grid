{"version":3,"file":"less-plugin-nth-grid.min.js","sources":["../../src/postcss/lib/vars.js","../../src/postcss/util/get-number.js","../../src/postcss/util/get-unit.js","../../src/postcss/util/unit-math.js","../../src/postcss/util/get-order-offset.js","../../src/postcss/util/is-unit-match.js","../../src/postcss/lib/grid.js","../../src/less/plugin/lib/to-value.js","../../src/less/plugin/lib/to-array.js","../../src/less/plugin/lib/to-tree.js","../../src/less/plugin/index.js"],"sourcesContent":["// Exports\n// =============================================================================\nexport default {\n    // reNotLength: /[^\\w\\%\\.\\-]/,\n    reNotLength: /[^\\w%.-]/,\n    reNumber   : /^[-+]?[0-9]*\\.?[0-9]+/,\n    reUnit     : /[a-z|%]+$/,\n    rounding   : 5\n};\n","// Dependencies\n// =============================================================================\nimport vars from '../lib/vars';\n\n\n// Exports\n// =============================================================================\n// Get number in string (e.g. '12rem' => 12)\nexport default function(value, falseValue) {\n    if (vars.reNotLength.test(value)) {\n        return false;\n    }\n    else {\n        const match  = value.toString().match(vars.reNumber) || false;\n        const number = match.length ? Number(match) * 1 : falseValue || false;\n\n        return number;\n    }\n}\n","// Dependencies\n// =============================================================================\nimport vars from '../lib/vars';\n\n\n// Exports\n// =============================================================================\n// Get unit in string (e.g. '12rem' => 'rem')\nexport default function(value, falseValue) {\n    if (vars.reNotLength.test(value)) {\n        return false;\n    }\n    else {\n        const match = value.toString().match(vars.reUnit) || false;\n        const unit  = match.length ? match.toString() : falseValue || false;\n\n        return unit;\n    }\n}\n","// Dependencies\n// =============================================================================\nimport getNumber from './get-number';\nimport getUnit   from './get-unit';\n\n\n// Exports\n// =============================================================================\n// Allows for basic math on string lengths (numbers with with units)\n// Ex: unitMath(['1rem', '1rem'], ' + ') /* '2rem' */\nexport default function(arr, operator) {\n    let   finalUnit = '';\n    const nums      = [];\n\n    // Loop through array values\n    for (let i = 0; i < arr.length; i++) {\n        const num  = getNumber(arr[i]);\n        const unit = getUnit(arr[i]);\n\n        // Ignore zero value units\n        if (num !== 0) {\n            // Verify math compatibility and store unit\n            if (unit.length) {\n                if (finalUnit.length && unit !== finalUnit) {\n                    // eslint-disable-next-line\n                    console.log(`NTH-GRID: Incompatible unitMath() arguments: ${arr}`);\n\n                    return 0;\n                }\n                else {\n                    finalUnit = unit;\n                }\n            }\n        }\n\n        // Add item to numbers array\n        nums.push(num);\n    }\n\n    // Cleanse operator\n    // operator = operator.trim().replace(/[^\\+\\-\\*\\/().\\d\\s]/g, '');\n    operator = operator.trim().replace(/[^+\\-*/().\\d\\s]/g, '');\n\n    // Return result\n    const result = nums.length ? eval(nums.join(operator)).toString().concat(finalUnit) : 0; // jshint ignore:line\n\n    // Convert zero to number\n    return Number(result) === 0 ? 0 : result;\n}\n","// Dependencies\n// =============================================================================\nimport unitMath from '../util/unit-math';\n\n// Exports\n// =============================================================================\n// Calculates columns offset for source ordering.\n// Note that IE9 truncates css values after 128 characters. Grid columms\n// that require an offset using a calc() string longer than this will\n// not render properly.\nexport default function(settings, column, order) {\n    let offset = 0, i;\n\n    // Only columns following the first need offset calculated\n    if (column > 1) {\n        let sibling_val;\n\n        // Calc() required\n        if (settings.calc) {\n            // Store sibling ratio column and gutter counts.\n            // Used to generate the shortest possible calc() strings\n            const offset_vals       = [];\n            let sibling_gutters     = 0;\n            let sibling_ratio_cols  = 0;\n            const sibling_unit_cols = [];\n\n            // Loop through all preceding columns\n            for (i = 0; i < (column - 1); i++) {\n                // Get sibling values from columns_normalized or order\n                if (order) {\n                    sibling_val = settings.columns_normalized[order[i] - 1];\n                }\n                else {\n                    sibling_val = settings.columns_normalized[i];\n                }\n\n                // Gutter\n                if (settings.gutter_h !== 0) {\n                    sibling_gutters += 1;\n                }\n\n                // Ratio-based value\n                if (Number(sibling_val)) {\n                    sibling_ratio_cols += Number(sibling_val);\n                }\n                // Unit-based value\n                else {\n                    sibling_unit_cols.push(sibling_val);\n                }\n            }\n\n            // Ratio offset\n            if (sibling_ratio_cols > 0) {\n                if (sibling_ratio_cols === 1) {\n                    offset_vals.push(settings.grid_col_width);\n                }\n                else {\n                    offset_vals.push('((' + settings.grid_col_width + ') * ' + sibling_ratio_cols + ')');\n                }\n            }\n\n            // Unit offset\n            if (sibling_unit_cols.length > 0) {\n                offset_vals.push(sibling_unit_cols.join(' + '));\n            }\n\n            // Gutter offset\n            if (sibling_gutters > 0) {\n                if (sibling_gutters === 1) {\n                    offset_vals.push(settings.gutter_h);\n                }\n                else {\n                    offset_vals.push('(' + settings.gutter_h + ' * ' + sibling_gutters + ')');\n                }\n            }\n\n            // Final offset\n            offset = offset_vals.join(' + ');\n        }\n        // Calc() not required\n        else {\n            let column_width;\n\n            // Loop through all preceding columns\n            for (i = 0; i < (column - 1); i++) {\n                // Get sibling values from columns_normalized or order\n                if (order) {\n                    sibling_val = settings.columns_normalized[order[i] - 1];\n                }\n                else {\n                    sibling_val = settings.columns_normalized[i];\n                }\n\n                // Add ratio-based value\n                if (Number(sibling_val)) {\n                    const grid_col_width = settings.grid_col_width;\n\n                    column_width = unitMath([grid_col_width, sibling_val], ' * ');\n                    offset       = unitMath([offset, column_width, settings.gutter_h], ' + ');\n                }\n                // Add unit-based value\n                else {\n                    column_width = unitMath([sibling_val, settings.gutter_h], ' + ');\n                    offset       = unitMath([offset, column_width], ' + ');\n                }\n            }\n        }\n    }\n\n    return offset;\n}\n","// Dependencies\n// =============================================================================\nimport getNumber from './get-number';\nimport getUnit   from './get-unit';\n\n\n// Exports\n// =============================================================================\n// Compare units of array items, ignoring zero values w/o units\nexport default function(arr, matchUnit) {\n    // Return false if value os not a valid length (e.g. calc)\n    if (!getNumber(arr[0]) && !getUnit(arr[0])) {\n        return false;\n    }\n    // Get matching unit from first item if unspecified\n    else if (!matchUnit) {\n        matchUnit = getUnit(arr[0]);\n    }\n\n    // Loop through array values\n    for (let i = 0; i < arr.length; i++) {\n        const num  = getNumber(arr[i]);\n        const unit = num !== 0 ? getUnit(arr[i]) : false;\n\n        // Return false if value is not a valid length (e.g. calc)\n        if (num === false && unit === false) {\n            return false;\n        }\n        // Return false if units do not match\n        if (num !== 0 && unit !== matchUnit) {\n            return false;\n        }\n    }\n\n    return true;\n}\n","// Dependencies\n// =============================================================================\nimport getOrderOffset from '../util/get-order-offset';\nimport getUnit        from '../util/get-unit';\nimport isUnitMatch    from '../util/is-unit-match';\nimport unitMath       from '../util/unit-math';\n\n\n// Exports\n// =============================================================================\n// Generates new object containing grid properties\nexport default function Grid(settings, options) {\n    options = options || {};\n\n    // Protect against instantiating without `new` keyword\n    if (!(this instanceof Grid)) {\n        return new Grid(settings, options);\n    }\n\n    // Nth-Grid Defaults\n    const defaults = {\n        // Layout\n        columns               : [1],\n        gutter                : 0,\n        margin                : 0,\n        center                : true,\n        eqheight              : false,\n        valign                : false,\n        direction             : 'ltr',\n        legacy                : false,\n\n        // Debug\n        debug                 : false,\n        debug_background_color: '#000',\n        debug_text_color      : '#ccc',\n\n        // Overlay\n        overlay               : false,\n        overlay_column_color  : '#7c48c3',\n        overlay_margin_color  : '#dabfff',\n        overlay_text_color    : '#fff',\n\n        // Compilation\n        rem_base              : 16,\n        remove_warnings       : true,\n        warnings              : true\n    };\n\n    // Private defaults\n    const settings_private = {\n        width                 : '100%',\n        order                 : false,\n        auto_width            : null,\n        calc                  : null,\n        columns_ratio         : [],\n        columns_unit          : [],\n        grid_col_ratio        : 0,\n        grid_col_width        : 0,\n        grid_width            : null,\n        gutter_h              : 0,\n        columns_normalized    : [],\n        margin_h              : 0,\n        order_offsets         : [],\n        total_columns         : 0,\n        total_ratio_columns   : 0,\n        total_unit_columns    : 0\n    };\n\n    // Update defaults with global options\n    for (const opt in options) {\n        if (opt in defaults) {\n            defaults[opt] = options[opt];\n        }\n    }\n\n    // Add private properties to settings\n    // Adding these after the global options prevents setting private\n    // settings via CSS or JS globals\n    for (const priv in settings_private) {\n        if (!(priv in settings)) {\n            settings[priv] = settings_private[priv];\n        }\n    }\n\n    // Add missing properties from defaults to settings\n    for (const key in defaults) {\n        if (!(key in settings)) {\n            settings[key] = defaults[key];\n        }\n    }\n\n    // Convert single-value columns layout and order settings to arrays\n    settings.columns = settings.columns instanceof Array ? settings.columns : [settings.columns];\n    settings.order = settings.order instanceof Array ? settings.order : settings.order !== false ? [settings.order] : settings.order;\n\n    // Extract horizontal gutter and margin from arrays\n    settings.gutter_h = settings.gutter instanceof Array ? (settings.gutter[1] || settings.gutter[0]) : settings.gutter;\n    settings.gutter_v = settings.gutter instanceof Array ? settings.gutter[0] : settings.gutter;\n    settings.margin_h = settings.margin instanceof Array ? (settings.margin[1] || settings.margin[0]) : settings.margin;\n    settings.margin_v = settings.margin instanceof Array ? settings.margin[0] : settings.margin;\n\n    // Direction\n    settings.dir_left  = settings.direction === 'rtl' ? 'right' : 'left';\n    settings.dir_right = settings.direction === 'rtl' ? 'left' : 'right';\n\n\n    // Populate settings\n    // ---------------------------------------------------------------------\n    let i;\n\n    // Ratio- and unit-based column lists\n    for (i = 0; i < settings.columns.length; i++) {\n        const val = settings.columns[i];\n\n        if (Number(val)) {\n            settings.columns_ratio.push(Number(val));\n        }\n        else {\n            settings.columns_unit.push(val);\n        }\n    }\n\n    // Total column count\n    settings.total_ratio_columns = settings.columns_ratio.length === 1 ? settings.columns_ratio[0] : settings.columns_ratio.length;\n    settings.total_unit_columns  = settings.columns_unit.length;\n    settings.total_columns       = settings.total_ratio_columns + settings.total_unit_columns;\n\n    // Calculate combined grid gutter and margin\n    let grid_gutters = unitMath([settings.gutter_h, (settings.total_columns - 1)], ' * '),\n        grid_margins = unitMath([settings.margin_h, 2], ' * ');\n\n    // Grid ratio\n    if (settings.columns_ratio.length === 1) {\n        settings.grid_col_ratio = settings.columns_ratio[0];\n    }\n    else {\n        settings.grid_col_ratio = 0;\n\n        // Sum ratio based column values\n        for (i = 0; i < settings.columns_ratio.length; i++) {\n            settings.grid_col_ratio += settings.columns_ratio[i];\n        }\n    }\n\n    // Are all units matched?\n    const isMatched = isUnitMatch([]\n        .concat(settings.width)\n        .concat(settings.columns_unit)\n        .concat(settings.gutter)\n        .concat(settings.margin));\n\n    // All all grid units matched?\n    const isMatchedGrid = settings.columns_ratio.length === 0 && isUnitMatch([]\n        .concat(settings.columns_unit)\n        .concat(settings.gutter)\n        .concat(settings.margin));\n\n    // Are all grid values percent?\n    const isPercentGrid = isUnitMatch([]\n        .concat(settings.columns_unit)\n        .concat(settings.gutter)\n        .concat(settings.margin), '%');\n\n    // Calc() required?\n    settings.calc = !(isMatched || isMatchedGrid || isPercentGrid);\n\n    // Grid container auto width\n    if (settings.columns_ratio.length === 0) {\n        // Calc() required\n        if (settings.calc) {\n            const grid_unit_cols = isUnitMatch(settings.columns_unit) ? unitMath(settings.columns_unit, ' + ') : settings.columns_unit.join(' + ');\n\n            // Matched gutter & margin units\n            if (settings.gutter_h !== 0 && settings.margin_h !== 0 && isUnitMatch([grid_gutters, grid_margins])) {\n                settings.auto_width = grid_unit_cols + ' + ' + unitMath([grid_gutters, grid_margins], ' + ');\n            }\n            // Matched column and gutter units\n            else if (settings.gutter_h !== 0 && isUnitMatch([grid_unit_cols, grid_gutters])) {\n                settings.auto_width = unitMath([grid_unit_cols, grid_gutters], ' + ') + ' + ' + (settings.margin_h !== 0 ? grid_margins : '');\n            }\n            // Matched column and margin units\n            else if (settings.margin_h !== 0 && isUnitMatch([grid_unit_cols, grid_margins])) {\n                settings.auto_width = unitMath([grid_unit_cols, grid_margins], ' + ') + ' + ' + (settings.gutter_h !== 0 ? grid_gutters : '');\n            }\n            // No match\n            else {\n                settings.auto_width = grid_unit_cols;\n\n                // Add gutters\n                if (settings.gutter_h !== 0) {\n                    settings.auto_width += ' + ' + grid_gutters;\n                }\n\n                // Add margins\n                if (settings.margin_h !== 0) {\n                    settings.auto_width += ' + ' + grid_margins;\n                }\n            }\n        }\n        // Calc() not required\n        else {\n            // Unit-based columns\n            settings.auto_width = unitMath(settings.columns_unit, ' + ');\n\n            // Add gutters and margins\n            settings.auto_width = unitMath([settings.auto_width, grid_gutters, grid_margins], ' + ');\n        }\n    }\n\n    // Ratio grid width - Calc() required\n    // Grid width of 99.99% used for sub-pixel rendering bug (e.g. IE9, Chrome < 38)\n    if (settings.calc) {\n        // Single unit-based column\n        if (settings.columns_unit.length === 1) {\n            settings.grid_width = '99.99% - ' + settings.columns_unit[0];\n        }\n        // Multiple unit-based columns\n        else if (settings.columns_unit.length > 1) {\n            // Matched units\n            if (isUnitMatch(settings.columns_unit)) {\n                settings.grid_width = '99.99% - ' + unitMath(settings.columns_unit, ' + ');\n            }\n            // Mixed units\n            else {\n                settings.grid_width = '99.99% - (' + settings.columns_unit.join(' + ') + ')';\n            }\n        }\n        // No unit-based columns\n        else {\n            settings.grid_width = '99.99%';\n        }\n    }\n    // Ratio grid width - Calc() not required\n    else {\n        if (isMatched && getUnit(settings.width) !== '%') {\n            settings.grid_width = settings.width;\n\n            // Subtract unit-based column values from width\n            if (settings.columns_unit.length) {\n                settings.grid_width = unitMath([settings.grid_width, unitMath(settings.columns_unit, ' + ')], ' - ');\n            }\n        }\n        else if (isPercentGrid) {\n            settings.grid_width = '100%';\n\n            // Subtract unit-based column values from width\n            if (settings.columns_unit.length) {\n                settings.grid_width = unitMath([settings.grid_width, unitMath(settings.columns_unit, ' + ')], ' - ');\n            }\n        }\n        else {\n            settings.grid_width = '100%';\n        }\n    }\n\n    // Ratio-based column width\n    if (settings.total_ratio_columns > 0) {\n        // Calc() required\n        if (settings.calc) {\n            // Matched gutter and margin units\n            if (settings.gutter_h !== 0 && settings.margin_h !== 0 && isUnitMatch([settings.gutter_h, settings.margin_h])) {\n                settings.grid_col_width = settings.grid_width + ' - ' + unitMath([grid_gutters, grid_margins], ' + ');\n            }\n            // Matched column and gutter units\n            else if (settings.gutter_h !== 0 && isUnitMatch([settings.grid_width, grid_gutters])) {\n                settings.grid_col_width = unitMath([settings.grid_width, grid_gutters], ' - ');\n\n                if (grid_margins !== 0) {\n                    settings.grid_col_width += ' - ' + grid_margins;\n                }\n            }\n            // Matched column and margin units\n            else if (settings.margin_h !== 0 && isUnitMatch([settings.grid_width, grid_margins])) {\n                settings.grid_col_width = unitMath([settings.grid_width, grid_margins], ' - ');\n\n                if (grid_gutters !== 0) {\n                    settings.grid_col_width += ' - ' + grid_gutters;\n                }\n            }\n            // No match\n            else {\n                grid_gutters = settings.gutter_h !== 0 ? ' - ' + grid_gutters : '';\n                grid_margins = settings.margin_h !== 0 ? ' - ' + grid_margins : '';\n\n                settings.grid_col_width = settings.grid_width + grid_gutters + grid_margins;\n            }\n\n            // Divide by grid ratio\n            settings.grid_col_width = '(' + settings.grid_col_width + ') / ' + settings.grid_col_ratio;\n        }\n        // Calc() not required\n        else {\n            // Calculate grid width without gutters and margins\n            settings.grid_col_width = unitMath([settings.grid_width, grid_gutters, grid_margins], ' - ');\n\n            // Divide by grid ratio\n            settings.grid_col_width = unitMath([settings.grid_col_width, settings.grid_col_ratio], ' / ');\n        }\n    }\n\n    // Calculate ordered column offsets\n    if (settings.order && settings.order.length <= settings.total_columns) {\n        // Expand single ratio-value column to multi-column\n        // Ex: nth-grid(6) /* columns_normalized: 1 1 1 1 1 1 */\n        if (settings.columns_ratio.length === 1) {\n            for (i = 0; i < settings.columns.length; i++) {\n                const col_val = settings.columns[i];\n                const num     = Number(col_val) || false;\n\n                // Single ratio-based value\n                if (num) {\n                    for (let j = 0; j < num; j++) {\n                        settings.columns_normalized.push(1);\n                    }\n                }\n                // Other values\n                else {\n                    settings.columns_normalized.push(col_val);\n                }\n            }\n        }\n        else {\n            settings.columns_normalized = settings.columns;\n        }\n\n        // Loop through order\n        for (i = 0; i < settings.order.length; i++) {\n            let offset    = 0;\n            const order_val = settings.order[i];\n\n            // Get offset of the order column value in the original column layout\n            // Ex: Column 3 offset in original @columns\n            const column_offset = getOrderOffset(settings, order_val);\n\n            // Get offset of the order column number in the ordered column layout\n            // Ex: Column 3 offset in $order 3 2 1 (1st position)\n            const order_offset = getOrderOffset(settings, i + 1, settings.order);\n\n            // Set final offset values in array\n            if (order_offset !== column_offset) {\n                // Calc() required\n                if (settings.calc) {\n                    if (order_offset === 0) {\n                        offset = '0px - (' + column_offset + ')';\n                    }\n                    else if (column_offset === 0) {\n                        offset = order_offset;\n                    }\n                    else {\n                        offset = '(' + order_offset + ') - (' + column_offset + ')';\n                    }\n                }\n                // Calc() not required\n                else {\n                    offset = unitMath([order_offset, column_offset], ' - ');\n                }\n            }\n\n            // Push value to order offset array\n            settings.order_offsets.push(offset);\n        }\n    }\n\n    // Return settings object\n    return settings;\n}\n","// Dependencies\n// =============================================================================\nimport toArray from './to-array';\n\n\n// Exports\n// =============================================================================\n// Converts Less tree object to javascript string, array, boolean, etc.\nexport default function toValue(obj) {\n    // Keyword\n    if (obj.type === 'Keyword') {\n        return obj.value;\n    }\n    // Dimension (number & unit)\n    else if (obj.type === 'Dimension') {\n        // Ignore units for zero values (e.g. 0px = 0);\n        if (obj.value === 0) {\n            return obj.value;\n        }\n        // Append unit to value\n        else {\n            return obj.value.toString().concat(obj.unit);\n        }\n    }\n    // Expression (array)\n    else if (obj.type === 'Expression') {\n        toArray(obj);\n    }\n    // Unknown\n    else {\n        // eslint-disable-next-line\n        console.log(`Unknown type: ${obj.type} Returning value: ${obj.value}`);\n        // eslint-disable-next-line\n        console.log(JSON.stringify(obj));\n\n        return obj;\n    }\n}\n","// Dependencies\n// =============================================================================\nimport toValue from './to-value';\n\n\n// Exports\n// =============================================================================\n// Converts Less tree object to javascript array of values\nexport default function toArray(obj) {\n    if (obj.type === 'Expression') {\n        const arr = [];\n\n        for (let i = 0; i < obj.value.length; i++) {\n            arr.push(toValue(obj.value[i]));\n        }\n\n        return arr;\n    }\n    else {\n        const value = toValue(obj);\n\n        return [value];\n    }\n}\n","/* global tree */\n\n// Dependencies\n// =============================================================================\nimport getNumber from '../../../postcss/util/get-number';\nimport getUnit   from '../../../postcss/util/get-unit';\n\n\n// Exports\n// =============================================================================\n// Converts javascript string, array, boolean, etc. to Less tree object\nexport default function toTree(value) {\n    // Boolean => Keyword\n    if (typeof(value) === 'boolean') {\n        return new tree.Keyword(value.toString());\n    }\n    // Array => Expression\n    else if (value instanceof Array) {\n        const arr = [];\n\n        for (let i = 0; i < value.length; i++) {\n            arr.push(toTree(value[i]));\n        }\n\n        return new tree.Expression(arr);\n    }\n    // Number => Dimension\n    else if (typeof value === 'number') {\n        return new tree.Dimension(value);\n    }\n    // Strings\n    else if (value !== null) {\n        const num  = getNumber(value);\n        const unit = getUnit(value);\n\n        // => Dimension (number & unit)\n        if (num !== false && unit !== false) {\n            return new tree.Dimension(num, unit);\n        }\n        // => Number\n        else if (num !== false) {\n            return new tree.Dimension(num);\n        }\n        // => String\n        else {\n            return new tree.Anonymous(value);\n        }\n    }\n    // Null\n    else {\n        return new tree.Anonymous(value);\n    }\n}\n","/* global functions, tree */\n\n// =============================================================================\n// Less Plugin Documentation (not easy to find, but these links help)\n// =============================================================================\n// Source\n// -----------------------------------------------------------------------------\n// https://github.com/less/less.js/tree/master/lib/less/tree\n// https://github.com/less/less.js/tree/master/test/less/plugin\n\n// Links\n// -----------------------------------------------------------------------------\n// https://github.com/less/less.js/issues/1861\n// https://github.com/less/less-docs/issues/328\n// https://github.com/less/less.js/pull/2479\n// https://github.com/less/less.js/pull/2522\n// https://github.com/less/less.js/issues/1862\n\n// Dependencies\n// =============================================================================\nimport Grid    from '../../postcss/lib/grid';\nimport toArray from './lib/to-array';\nimport toTree  from './lib/to-tree';\nimport toValue from './lib/to-value';\n\n\n// Plugin\n// =============================================================================\nlet settings;\n\nconst api = {\n    // Log message to console\n    'nth-log': function(lessTreeObj) {\n        // eslint-disable-next-line\n        console.log(`Nth-Grid: ${lessTreeObj.value}`);\n\n        return false;\n    },\n    // Log warning message to console\n    'nth-warn': function(lessTreeObj) {\n        // eslint-disable-next-line\n        console.warn(`Nth-Grid: ${lessTreeObj.value}`);\n\n        return false;\n    },\n    // Creates Grid instance\n    'nth-grid': function(columns, gutter, margin, width, order) {\n        // Convert Less tree objects to standard JavaScript types\n        settings = {\n            columns: toArray(columns),\n            gutter : toArray(gutter),\n            margin : toArray(margin),\n            width  : toValue(width),\n            order  : order.type === 'Expression' ? toArray(order) : false\n        };\n\n        settings = new Grid(settings);\n\n        // Send return value (warning message displayed if not true)\n        return new tree.Keyword('true');\n    },\n    // Returns value from Grid instance\n    'nth-get': function(lessTreeObj) {\n        const key = lessTreeObj.value;\n\n        // Check if key exists\n        if (key in settings) {\n            // Return Less tree object\n            return toTree(settings[key]);\n        }\n        // Invalid key\n        else {\n            // eslint-disable-next-line\n            console.log(`NTH-GRID: ${key} is not a valid key.`);\n        }\n    }\n};\n\n// Add functions to Less registry\nfunctions.addMultiple(api);\n"],"names":["value","falseValue","vars","reNotLength","test","match","toString","reNumber","length","Number","reUnit","arr","operator","finalUnit","nums","i","num","getNumber","unit","getUnit","log","push","trim","replace","result","eval","join","concat","settings","column","order","offset","sibling_val","calc","offset_vals","sibling_gutters","sibling_ratio_cols","sibling_unit_cols","columns_normalized","gutter_h","grid_col_width","unitMath","matchUnit","Grid","options","this","defaults","settings_private","opt","priv","key","columns","Array","gutter","gutter_v","margin_h","margin","margin_v","dir_left","direction","dir_right","val","columns_ratio","columns_unit","total_ratio_columns","total_unit_columns","total_columns","grid_gutters","grid_margins","grid_col_ratio","isMatched","isUnitMatch","width","isMatchedGrid","isPercentGrid","grid_unit_cols","auto_width","grid_width","col_val","j","column_offset","getOrderOffset","order_offset","order_offsets","toValue","obj","type","JSON","stringify","toArray","toTree","tree","Keyword","Expression","Dimension","Anonymous","api","lessTreeObj","warn","functions","addMultiple"],"mappings":"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"}